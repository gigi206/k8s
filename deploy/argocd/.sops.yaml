# SOPS Configuration for GitOps Secrets Management
# This file defines encryption rules for different environments
#
# Public keys (safe to commit):
#   Dev:  age1are2lwem3jtdp3z06xgj5ljvg2xn0rs6yn29x643v3phzkml7clqunt3s2
#   Prod: age1na7yj6ktcusnpwed94fzst2acl9qguznktc3dwvhf3wap8u2g4ysg5t9qt

creation_rules:
  # Dev environment secrets (in secrets/dev/ directories)
  - path_regex: apps/.*/secrets/dev/secret.*\.yaml$
    age: age1are2lwem3jtdp3z06xgj5ljvg2xn0rs6yn29x643v3phzkml7clqunt3s2

  # Prod environment secrets (in secrets/prod/ directories)
  - path_regex: apps/.*/secrets/prod/secret.*\.yaml$
    age: age1na7yj6ktcusnpwed94fzst2acl9qguznktc3dwvhf3wap8u2g4ysg5t9qt

  # Shared secrets at root level (encrypted with both keys)
  - path_regex: apps/.*/secrets/secret.*\.yaml$
    age: >-
      age1are2lwem3jtdp3z06xgj5ljvg2xn0rs6yn29x643v3phzkml7clqunt3s2,
      age1na7yj6ktcusnpwed94fzst2acl9qguznktc3dwvhf3wap8u2g4ysg5t9qt
