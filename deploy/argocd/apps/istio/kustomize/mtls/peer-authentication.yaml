---
# =============================================================================
# PeerAuthentication - Istio mTLS Configuration
# =============================================================================
# Enforces mTLS mode for all service-to-service communication in the mesh.
# Applied at mesh level (istio-system namespace with name "default").
#
# Modes:
# - STRICT: Only accept mTLS traffic (recommended for production)
# - PERMISSIVE: Accept both plaintext and mTLS (useful for migration)
# - DISABLE: No mTLS enforcement
#
# Docs: https://istio.io/latest/docs/reference/config/security/peer_authentication/
# =============================================================================

apiVersion: security.istio.io/v1
kind: PeerAuthentication
metadata:
  name: default
  namespace: istio-system
spec:
  mtls:
    mode: STRICT  # Patched by kustomize via ApplicationSet
