---
# Configuration NeuVector - Dev
environment: dev
appName: neuvector

neuvector:
  # Helm chart versions
  version: "2.8.10"        # Core chart version
  monitorVersion: "2.8.10" # Monitor chart version (Prometheus exporter)

  # Admin password for initial setup (read from init secret)
  # Must be strong enough: 8+ chars, uppercase, lowercase, number, special char
  adminPassword: "Admin123!"

  # Controller (single replica for dev)
  controller:
    replicas: 1
    resources:
      requests:
        cpu: "200m"
        memory: "1Gi"
      limits:
        cpu: "2000m"
        memory: "2Gi"

  # Enforcer (DaemonSet - runs on all nodes)
  enforcer:
    resources:
      requests:
        cpu: "100m"
        memory: "128Mi"
      limits:
        cpu: "500m"
        memory: "512Mi"

  # Manager (Web UI)
  manager:
    resources:
      requests:
        cpu: "100m"
        memory: "512Mi"
      limits:
        cpu: "500m"
        memory: "1Gi"

  # Scanner (single replica for dev)
  scanner:
    replicas: 1
    resources:
      requests:
        cpu: "200m"
        memory: "1Gi"
      limits:
        cpu: "1000m"
        memory: "2Gi"

  # Prometheus exporter settings
  exporter:
    # WARNING: enforcerStats impacts performance - enable only if needed
    enforcerStats:
      enabled: true

  # OIDC Configuration (Keycloak) - Native NeuVector OIDC
  oidc:
    enabled: true
    clientId: "neuvector"
    clientSecret: "jqNIknQyvT8GAL64SBVOfSQyHLdWdZZu"

syncPolicy:
  automated:
    enabled: true
    prune: true
    selfHeal: true
