---
# Configuration OAuth2 Proxy - Dev
environment: dev
appName: oauth2-proxy

oauth2Proxy:
  # Replicas
  replicas: 1

  # OIDC Configuration (Keycloak)
  oidc:
    clientId: "oauth2-proxy"
    # Skip SSL verification for self-signed certs in dev
    skipProviderVerify: true

  # Resources (dev: minimal)
  resources:
    requests:
      cpu: "50m"
      memory: "64Mi"
    limits:
      cpu: "100m"
      memory: "128Mi"

  # Apps to protect via ext_authz
  protectedApps:
    - host: "prometheus.k8s.lan"
      name: "Prometheus"
    - host: "alertmanager.k8s.lan"
      name: "Alertmanager"
    - host: "hubble.k8s.lan"
      name: "Hubble UI"
    - host: "longhorn.k8s.lan"
      name: "Longhorn UI"

syncPolicy:
  automated:
    enabled: true
    prune: true
    selfHeal: true
