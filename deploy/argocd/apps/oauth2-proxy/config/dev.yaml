---
# Configuration OAuth2 Proxy - Dev
environment: dev
appName: oauth2-proxy

oauth2Proxy:
  version: "10.0.0"
  # Replicas
  replicas: 1

  # OIDC Configuration (Keycloak)
  oidc:
    clientId: "oauth2-proxy"

  # Resources (actual: 1m/4Mi)
  resources:
    requests:
      cpu: "5m"
      memory: "8Mi"
    limits:
      cpu: "100m"
      memory: "128Mi"

  # Wait-for-keycloak init container resources
  waitForKeycloak:
    resources:
      requests:
        cpu: "5m"
        memory: "32Mi"
      limits:
        cpu: "50m"
        memory: "64Mi"

  # Security hardening (CIS/NSA compliance)
  serviceAccount:
    # Disable SA token automount - oauth2-proxy doesn't need K8s API access
    automountServiceAccountToken: false

syncPolicy:
  automated:
    enabled: true
    prune: true
    selfHeal: true
