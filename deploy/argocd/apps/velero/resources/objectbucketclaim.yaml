---
# ObjectBucketClaim for Velero S3 storage
# Creates a bucket in Rook-Ceph ObjectStore and provisions:
# - Secret: velero-storage (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)
# - ConfigMap: velero-storage (BUCKET_HOST, BUCKET_PORT, BUCKET_NAME)
apiVersion: objectbucket.io/v1alpha1
kind: ObjectBucketClaim
metadata:
  name: velero-storage
  namespace: velero
  annotations:
    argocd.argoproj.io/hook: PreSync
    argocd.argoproj.io/hook-delete-policy: Never
spec:
  generateBucketName: velero
  storageClassName: ceph-bucket
