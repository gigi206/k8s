---
# =============================================================================
# ConfigMap - Placeholder for Ceph Dashboard CA certificate
# =============================================================================
# This ConfigMap is created with a placeholder certificate during sync.
# The PostSync Job (backend-ca-configmap-job.yaml) will update it with the
# actual certificate extracted from the running Ceph Dashboard.
#
# This placeholder is required because BackendTLSPolicy validation fails
# if the referenced ConfigMap doesn't exist during sync.
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: ceph-dashboard-backend-ca
  namespace: rook-ceph
  annotations:
    argocd.argoproj.io/sync-options: Replace=true
data:
  # Placeholder certificate - will be replaced by the PostSync Job with the real cert
  # This is a valid self-signed certificate required by BackendTLSPolicy validation
  ca.crt: |
    -----BEGIN CERTIFICATE-----
    MIICCDCCAXGgAwIBAgIUfmCqTXm6eOMi6CYmsGpsbru/a0UwDQYJKoZIhvcNAQEL
    BQAwFjEUMBIGA1UEAwwLcGxhY2Vob2xkZXIwHhcNMjYwMTE0MjEyNDI5WhcNMzYw
    MTEyMjEyNDI5WjAWMRQwEgYDVQQDDAtwbGFjZWhvbGRlcjCBnzANBgkqhkiG9w0B
    AQEFAAOBjQAwgYkCgYEAt+MfccOgTiPWjjIFbu10gWKqMa0DPhTEMzRvCI/Ned6p
    Y5FtXYNnyksgKSWJMbe70IlRq8cX2k//z77XA62PwR4LlAb7dTDytB28GRUOiRhX
    HDkNT0aMDhDUTT7RG+PMfKwX4zU/pyjRG/572mewV3obbfQUMT55w0+QXj+ososC
    AwEAAaNTMFEwHQYDVR0OBBYEFBFOuYJ/Q+9t3XWyw5kHPHqYHxgmMB8GA1UdIwQY
    MBaAFBFOuYJ/Q+9t3XWyw5kHPHqYHxgmMA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZI
    hvcNAQELBQADgYEAgx2lFVsqE+qEORG7JvqZLWXr8EteNe4S91QdI4DdXXTLSOIG
    ZFoevIJHPQn4JOUz902wgBAfyxbE1NGBkk2Gg3nMWfH1bqO6cnUH+k+mu5pUD9Ue
    bZXKJTrgwHaml++TUnicIjG9XLEWlQfRSc1HeyuYskEEdZij5IQOIZ+GaoE=
    -----END CERTIFICATE-----
