---
# =============================================================================
# Kyverno Configuration - Dev Environment
# =============================================================================
# Policy engine for Kubernetes
# Provides mutation, validation, and generation of resources
# =============================================================================

environment: dev
appName: kyverno

kyverno:
  namespace: kyverno
  version: "3.6.2"  # Helm chart version - Renovate will update this

  # Admission controller replicas (actual: 4m/54Mi)
  admissionController:
    replicas: 1
    resources:
      requests:
        cpu: "10m"
        memory: "80Mi"
      limits:
        cpu: "500m"
        memory: "512Mi"

  # Background controller (actual: 2m/37Mi)
  backgroundController:
    replicas: 1
    resources:
      requests:
        cpu: "5m"
        memory: "50Mi"
      limits:
        cpu: "200m"
        memory: "256Mi"

  # Reports controller (actual: 2m/34Mi)
  reportsController:
    replicas: 1
    resources:
      requests:
        cpu: "5m"
        memory: "50Mi"
      limits:
        cpu: "200m"
        memory: "256Mi"

  # Cleanup controller (actual: 2m/24Mi)
  cleanupController:
    replicas: 1
    resources:
      requests:
        cpu: "5m"
        memory: "50Mi"
      limits:
        cpu: "200m"
        memory: "256Mi"

syncPolicy:
  automated:
    enabled: true
    prune: true
    selfHeal: true
