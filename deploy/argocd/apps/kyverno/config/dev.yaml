---
# =============================================================================
# Kyverno Configuration - Dev Environment
# =============================================================================
# Policy engine for Kubernetes
# Provides mutation, validation, and generation of resources
# =============================================================================

environment: dev
appName: kyverno

kyverno:
  namespace: kyverno
  version: "3.6.2"  # Helm chart version - Renovate will update this

  # Admission controller replicas (main policy enforcement)
  admissionController:
    replicas: 1
    resources:
      requests:
        cpu: "100m"
        memory: "256Mi"
      limits:
        cpu: "500m"
        memory: "512Mi"

  # Background controller (async policy processing)
  backgroundController:
    replicas: 1
    resources:
      requests:
        cpu: "50m"
        memory: "128Mi"
      limits:
        cpu: "200m"
        memory: "256Mi"

  # Reports controller (policy report generation)
  reportsController:
    replicas: 1
    resources:
      requests:
        cpu: "50m"
        memory: "128Mi"
      limits:
        cpu: "200m"
        memory: "256Mi"

  # Cleanup controller (cleanup policies)
  cleanupController:
    replicas: 1
    resources:
      requests:
        cpu: "50m"
        memory: "128Mi"
      limits:
        cpu: "200m"
        memory: "256Mi"

syncPolicy:
  automated:
    enabled: true
    prune: true
    selfHeal: true
